{"version":3,"file":"tooltip.js","sources":["../../src/utilities/classnames.ts","../../src/components/Tooltip.tsx"],"sourcesContent":["export default function classNames(...args: any[]): string {\n  let result = '';\n\n  for (const arg of args) {\n    if (!arg) { continue; }\n\n    if (typeof arg === 'string' || typeof arg === 'number') {\n      result = `${result} ${arg}`;\n      continue;\n    }\n\n    if (Array.isArray(arg)) {\n      result = `${result} ${classNames(...arg)}`;\n      continue;\n    }\n\n    if (typeof arg === 'object') {\n      const keys = Object.keys(arg);\n      for (const key of keys) {\n        if (arg[key]) { result = `${result} ${key}`; }\n      }\n    }\n  }\n\n  return result.trim();\n}\n","import React from 'react';\nimport cn from '../utilities/classnames';\n\nexport type TooltipDirection = 'up' | 'down' | 'left' | 'right';\n\nexport interface TooltipProps {\n  content?: string;\n  direction?: TooltipDirection;\n  className?: string;\n  children?: React.ReactElement<any>;\n}\n\nexport const Tooltip: React.SFC<TooltipProps> = ({\n  content,\n  direction,\n  className,\n  children,\n}) => {\n  return (\n    <span\n      className={className}\n      data-tooltip={content}\n      data-tooltip-pos={direction}\n    >\n      {children}\n    </span>\n  );\n};\n\nexport type HtmlTooltipDirection = 'left' | 'right';\n\nexport interface HTMLTooltipProps {\n  direction?: TooltipDirection;\n  className?: string;\n  children?: React.ReactElement<any>;\n  hoverTarget?: React.ReactElement<any>;\n  debounce?: number;\n}\n\nexport interface HTMLTooltipState {\n  hovered: boolean;\n  tooltipHeight: number;\n  opened: boolean;\n}\n\nexport class HTMLTooltip extends React.Component<\n  HTMLTooltipProps,\n  HTMLTooltipState\n> {\n\n  public static defaultProps = {\n    className: '',\n    debounce: 1000,\n    direction: 'right',\n  };\n\n  public state = {\n    hovered: false,\n    opened: false,\n    tooltipHeight: 0,\n  };\n\n  private tooltipRef: HTMLDivElement;\n\n  constructor(props: HTMLTooltipProps) {\n    super(props);\n\n    this.state = {\n      hovered: false,\n      opened: false,\n      tooltipHeight: 0,\n    };\n\n    this.handleHoverIn = this.handleHoverIn.bind(this);\n    this.handleHoverOut = this.handleHoverOut.bind(this);\n  }\n\n  public shouldComponentUpdate(nextProps?: any, nextState?: any) {\n    if (this.state.opened === nextState.opened) {\n      return false;\n    }\n    return true;\n  }\n\n  public handleHoverIn = () => {\n    this.setState({ hovered: true, opened: true, tooltipHeight: this.tooltipRef.offsetHeight });\n  }\n\n  public handleHoverOut = () => {\n    this.setState({ hovered: false });\n    setTimeout(() => {\n      if (!this.state.hovered) {\n        this.setState({ opened: false });\n      }\n    }, this.props.debounce);\n  }\n\n  public render() {\n    return (\n      <div>\n        <div className=\"tooltip-js-parent\" onMouseEnter={this.handleHoverIn} onMouseLeave={this.handleHoverOut}>\n          {this.props.hoverTarget}\n        </div>\n        <div\n          className={cn(`tooltip-js-content ${this.props.className}`, {\n            'is-left': this.props.direction === 'left',\n            'is-visible': this.state.opened,\n          })}\n          style={{ top: -(this.state.tooltipHeight / 2) - 3 }}\n          ref={(input) => {\n            this.tooltipRef = input;\n          }}\n          onMouseEnter={this.handleHoverIn}\n          onMouseLeave={this.handleHoverOut}\n        >\n          {this.props.children}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Tooltip;\n"],"names":["cn"],"mappings":"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"}