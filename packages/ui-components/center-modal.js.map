{"version":3,"file":"center-modal.js","sources":["../../src/utilities/classnames.ts","../../src/utilities/modals.ts","../../src/components/CenterModal.tsx"],"sourcesContent":["export default function classNames(...args: any[]): string {\n  let result = '';\n\n  for (const arg of args) {\n    if (!arg) { continue; }\n\n    if (typeof arg === 'string' || typeof arg === 'number') {\n      result = `${result} ${arg}`;\n      continue;\n    }\n\n    if (Array.isArray(arg)) {\n      result = `${result} ${classNames(...arg)}`;\n      continue;\n    }\n\n    if (typeof arg === 'object') {\n      const keys = Object.keys(arg);\n      for (const key of keys) {\n        if (arg[key]) { result = `${result} ${key}`; }\n      }\n    }\n  }\n\n  return result.trim();\n}\n","export interface ModalProps {\n  bodyNode?: ElementWithClassList;\n  isOpen?: boolean;\n}\n\ninterface ElementWithClassList extends Element {\n  classList: DOMTokenList;\n}\n\nconst modalOpenClass = 'modal-open';\n\nexport const modalWillReceiveProps: (nextProps: ModalProps, currentProps: ModalProps) => void =\n  (nextProps, currentProps) => {\n    if (nextProps.isOpen === currentProps.isOpen) { return; }\n\n    const { bodyNode } = currentProps;\n    if (nextProps.isOpen) {\n      bodyNode.classList.add(modalOpenClass);\n    } else {\n      bodyNode.classList.remove(modalOpenClass);\n    }\n  };\n","import React, { Component, Fragment } from 'react';\nimport cn from '../utilities/classnames';\nimport {\n  ModalProps,\n  modalWillReceiveProps,\n} from '../utilities/modals';\n\ninterface CenterModalProps extends ModalProps {\n  hasX?: boolean;\n  large?: boolean;\n  onClose: (evt: any) => void;\n  open: boolean;\n  renderBody: string | React.ReactNode | (() => React.ReactNode);\n  renderFooter?: string | React.ReactNode | (() => React.ReactNode);\n  renderHeader?: string | React.ReactNode | (() => React.ReactNode);\n}\n\nconst evaluateRenderProp: (prop: string | React.ReactNode | (() => React.ReactNode)) => React.ReactNode = (prop) => {\n  return prop instanceof Function ? prop() : prop;\n};\n\nexport class CenterModal extends Component<CenterModalProps> {\n  public static defaultProps: Partial<CenterModalProps> = {\n    bodyNode: document.body,\n    hasX: false,\n    large: false,\n  };\n\n  public componentWillReceiveProps(nextProps: CenterModalProps) {\n    modalWillReceiveProps(nextProps, this.props);\n  }\n\n  public render() {\n    // Using <> instead of <Fragment> is breaking the linter.\n    return (\n      <Fragment>\n        <div className={cn('center-modal', { 'is-visible': this.props.open, 'is-large': this.props.large })}>\n          {\n            this.props.hasX &&\n              (<i className=\"sg-icon sg-icon-x\" data-role=\"close-center-modal\" onClick={this.props.onClose} />)\n          }\n          {this.props.renderHeader && <h1>{evaluateRenderProp(this.props.renderHeader)}</h1>}\n          {evaluateRenderProp(this.props.renderBody)}\n          {\n            this.props.renderFooter &&\n              (<div className=\"modal-footer\">{evaluateRenderProp(this.props.renderFooter)}</div>)\n          }\n        </div>\n        <div\n          className={cn('modal-mask', { 'is-visible': this.props.open })}\n          onClick={this.props.onClose}\n        />\n      </Fragment>\n    );\n  }\n}\n\nexport default CenterModal;\n"],"names":["React","Fragment","cn","Component"],"mappings":"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"}